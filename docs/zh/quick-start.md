# 快速开始

目前TRON FACTORY对服务器的节点部署是通过SSH方式传输与通信，因此需要对服务器进行部署需要提前实现[免密登录](https://www.jianshu.com/p/13919b5ba8a2)或[密码登录](https://blog.csdn.net/li528405176/article/details/82810342) 

部署节点需要先查看 [如何编译java-tron](https://tronprotocol.github.io/documentation-zh/developers/deployment/)


（1）查看文档  
（2）一键部署，点击进入到部署管理页面

> 注：点击一键部署按钮就表明开始部署您的应用链

## 区块链配置

### 创世块信息

创世块信息配置主要包括 asset 配置和 witeness 配置  
asset 配置 可以新增和修改当前 asset 配置信息  
witeness 配置 可以查看当前 witeness 配置信息，即当前所有节点中是超级节点的配置信息

asset 配置必填字段包括：

|                 必填字段                  |               解释                |
| :---------------------------------------: | :-------------------------------: |
|                accountName                |              账户名               |
|                accountType                | 账户类型： AssetIssue |
|                  address                  | 地址             |
| balance  |               余额                |

必须添加的asset（该账户为黑洞账户）：

|                必填字段                   |              必填值                |
| :---------------------------------------: | :-------------------------------: |
|                accountName                |  Blackhole       |
|                accountType                |  AssetIssue |
|                  address                  | (eckey签名算法）TSJx5LZUDmRDKwQJHWAzpwDdAVm5F7UftB（sm2签名算法）TEJj71X5jJUCdZ4iMcJgqpYb5ECyDvHvDu|
| balance  |               -9223372036854775808                |

创世块信息点击下一步按钮保存当前配置

> 注：必须添加名为Blackhole 的asset，不同的签名算法，对应的地址也不相同  
> 注：需填写对应当前签名算法的地址 

## 节点管理

节点管理可满足您在TRON FACTORY中关于节点的一系列操作需求，从而实现对节点的管理

### 添加节点
点击节点列表面板上的添加节点按钮进入到添加节点页面

必填字段包括

|                  必填字段                    |                        解释                         |
| :-----------------------------------------: | :-------------------------------------------------: |
|                     服务器地址                      |                       节点服务器IP/主机名                   |
|                     监听端口                      |                       P2P监听端口                   |
|                 安全验证方式                  |     SSH远程登录的安全验证方式，现在只支持密钥和密码两种     |
|                   用户名                     |                       SSH链接用户名                  |
|                    SSH端口                     |     SSH远程端口（数字且为正整数最大支持值 65535）         |
|                     密码                     |     SSH密码安全验证                                  |
|                   节点类型                   |                超级节点或全节点                |
|                URL                          |        超级节点的官网（Super Node必填）               |
| voteCount  |          对应投票数量 （Super Node必填）              |
| address                                     | 根据私钥使用相应签名算法的超级节点地址（Super Node必填）  |
| privateKey |       保存本地 64 位私钥 （Super Node必填）            |

点击保存即添加当前节点信息

> 注：address 和 privateKey 可点击自动生成按钮生成  
> 注：voteCount 支持范围为 0 - 9223372036854775807  
> 注：balance 范围为-9223372036854775808 至 9223372036854775807 ，为保证部署成功，请按照取值内范围填写

### 节点详情

点击详情按钮即可查看节点的详细配置

### 编辑节点

在节点详情页，用户可以点击编辑按钮对未部署的节点进行编辑

### 删除节点

在节点详情页，用户可以点击删除按钮对未部署的节点可以进行删除。注意，当最后一个节点被删除时，意味着当前链被删除，系统将自动切换到首页面，待用户重新初始化链信息。

## 节点配置

节点配置可对节点的配置文件进行修改。为方便用户快捷操作，节点配置将分为快速配置（修改频率较高的配置信息）和自定义配置（全部的配置信息），用户可根据需要选择不同的配置方式。
相关参数可以参考java-tron的配置文件[主链部署配置文件](https://github.com/tronprotocol/tron-deployment/blob/master/main_net_config.conf)

### 快速配置

快速配置只能修改节点的HTTP端口和RPC端口，而其他配置项使用默认配置，具体配置项解释可查看自定义配置

### 自定义配置

TRON FACTORY 1.4的自定义配置主要包含5个模块:

#### 基础配置

基础配置必填字段包括：

|       必填字段       |                             解释                             |
| :----------------------: | :----------------------------------------------------------: |
| maintenanceTimeInterval  |     维护时间间隔 （数字且为正整数最大支持值 2147483647）     |
| proposalExpireTime  |   区块提案到期时间（数字且为正整数最大支持值 2147483647）    |
| producedTimeOut | 节点区块产生超时比例 （数字0或正整数 取值范围为[0-100]） |
| minParticipationRate |   节点最小参与率 （数字0或正整数 取值范围为[0-100]）    |

基础配置点击下一步按钮保存当前配置

#### 网络链接配置(http/rpc)

网络链接配置必填字段包括：

|       必填字段       |                           解释                           |
| :------------------: | :------------------------------------------------------: |
|   httpFullNodePort   |   httpFullNode 端口（数字且为正整数最大支持值 65535）    |
| maxHttpConnectNumber | 最大 http 连接数 （数字0或正整数 取值范围[0-200]） |
|   httpSolidityPort   |   httpFullNode 端口 （数字且为正整数最大支持值 65535）   |
|       rpcPort        |       rpc 端口 （数字且为正整数最大支持值 65535）        |
|   rpcSolidityPort    |   rpcSolidity 端口 （数字且为正整数最大支持值 65535）    |
|   fullNodeEnable     |   是否开启fullNode的Http服务                                  |
|   solidityEnable     |   是否开启solidityNode的Http服务                              |

网络链接配置点击下一步按钮保存当前配置

##### 4.4 数据库基础配置

数据库基础配置必填字段包括：

|       必填字段       |  解释  |
| :------------------: | :----: |
|     数据库引擎     | LevelDB或RocksDB |
|     RocksDB备份设置     | 当数据库引擎为RocksDB时，可选择是否开启备份，否则，不可操作 |
|     同步写入     | 是或否 |
| 交易回执信息存储 | 是或否 |
| 自定义chainbase模块  | 勾选后可上传自定义编译chainbase模块 |

数据库基础配置点击下一步按钮保存当前配置

#### p2p 配置

|       必填字段       |                            解释                            |
| :----------------------: | :--------------------------------------------------------: |
|      maxActiveNodes      |     最大链接数 （数字且为正整数最大支持值 200])     |
| maxActiveNodesWithSameIp | 同一 ip 最大连接数 （数字且为正整数最大支持值 50) |
|   activeConnectFactor    | activeConnectFactor （数字为(0-1]之间的浮点数）  |
|      connectFactor       |    connectFactor （数数字为(0-1]之间的浮点数）     |

p2p 配置点击下一步按钮保存当前配置

#### 模块定制化

模块定制化必填字段包括：

|       必填字段       |  解释  |
| :------------------: | :----: |
| 自定义Transaction模块  | 勾选后可上传自定义Transaction模块 |

## 节点部署

TRON FACTORY只支持全量部署，当节点全部添加完毕后进入节点管理页面点击部署会自动部署所有部署状态为未部署的节点   

点击部署后，选择编译后的java-tron部署包，具体java-tron编译生成部署包请查看[部署文档](https://tronprotocol.github.io/documentation-zh/developers/deployment/)

部署开始后，所有的节点将会依次进行部署，部署结束后可点击部署日志查看相应的部署结果，成功的节点部署状态将会变成已部署

### 查看日志

点击查看日志可以查看当前节点的日志。  
